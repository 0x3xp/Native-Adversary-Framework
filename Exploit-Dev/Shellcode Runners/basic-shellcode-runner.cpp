#include <Windows.h>
#include <iostream>

int main() {
	
		unsigned char shellcode[] = "\x31\xc0\xb0\x04\x31\xdb\xb3\x01\x31\xd2\xb2\x0d\xcd\x80\x31\xc0\xb0\x01\x31\xdb\xb3\x01\xcd\x80";	//Shellcode
		
		void* execMem = VirtualAlloc(nullptr,
									sizeof(shellcode),
									MEM_COMMIT | MEM_RESERVE,
									PAGE_EXECUTE_READWRITE);	//Memory allocation
		if(!execMem) {
			std::cerr << "Memory allocation failed!" << std::endl;
			return -1;
		}	//Condition check
		
		memcpy(execMem, shellcode, sizeof(shellcode));	//Copy the memory
		
		auto shellCodeFunction = reinterpret_cast<void(*)()>(execMem);
		shellCodeFunction();	//Execute the shellcode
			
		VirtualFree(execMem, 0, MEM_RELEASE);	//Release the memory
	
	return 0;
}