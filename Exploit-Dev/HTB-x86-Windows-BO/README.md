# x86 Windows Buffer Overflows | HTB Lab Notes

This repository contains my methodology, exploit scripts, and notes for the **x86 Windows Buffer Overflows** module on HackTheBox. This lab focuses on manual exploitation using **x32dbg** and the **ERC plugin** to gain EIP control on Windows targets.



---

## üõ†Ô∏è Tech Stack
* **Debugger:** x32dbg
* **Plugin:** ERC (Exploit Research Center)
* **Environment:** Windows 10 x86
* **Scripting:** Python 3 (Socket library)
* **Payload Generation:** `msfvenom`

---

## üìà Methodology (ERC Workflow)

The exploitation process follows these standardized steps:

### 1. Fuzzing & Crashing
Initial discovery to find the approximate byte count that causes a service crash.

### 2. Finding the Offset
Using a non-repeating pattern to determine the exact distance to the EIP.
* **ERC Command:** `ERC --pattern c <length>`
* **Find Offset:** `ERC --pattern o <value_in_EIP>`

### 3. Identifying Bad Characters
Comparing the memory dump against a generated byte array to ensure shellcode integrity.
* **Generate:** `ERC --bytearray`
* **Compare:** `ERC --compare <ESP_address> <path_to_bin>`

### 4. Finding a Return Point
Searching for `JMP ESP` or `CALL ESP` instructions in modules without memory protections (No ASLR/DEP).
* **Search:** `ERC --search jmp esp`

### 5. Final Exploitation
Combining the offset, the return address (in Little Endian), a NOP sled, and the shellcode into a final Python script.



---

## üìÇ Repository Structure
* `/fuzzers`: Python scripts to identify crash thresholds.
* `/exploits`: Iterative exploit versions (Offset -> BadChars -> Final).
* `/ERC_Logs`: Output logs and comparison results from the ERC plugin.

---

## üìù Essential ERC Commands

| Task | Command |
| :--- | :--- |
| Set Working Directory | `ERC --config SetWorkingDir C:\Exploits` |
| Create Pattern | `ERC --pattern c <length>` |
| Find Pattern Offset | `ERC --pattern o <EIP_value>` |
| Find JMP ESP | `ERC --search jmp esp` |
| Compare ByteArrays | `ERC --compare <address> <file_path>` |

---

## ‚ö†Ô∏è Disclaimer
Educational purposes only. These scripts were developed for the HackTheBox lab environment. Do not use for unauthorized activities.
